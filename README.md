Team: BackendBoys

# Техническое задание на разработку программного продукта для планирования встреч

## 1. Общие описание
Необходимо разработать программный продукт для планирования встреч сотрудников внутри компании. Система состоит из клиентского мобильного приложения и серверной части.

## 2. Клиентская часть (Android-приложение)
Клиентом является **Android-приложение**, которое должно быть реализовано на **Kotlin** или **Java** с использованием **адаптивной верстки**.

Приложение должно предоставлять интуитивно понятный интерфейс, в котором реализован следующий функционал:

*   **Регистрация и авторизация** сотрудника.
*   **Настройка личного профиля**.
*   **Создание встречи** с возможностью приглашения других сотрудников. Приглашенные сотрудники должны иметь возможность дать бинарный ответ (**принял** / **не принял**).
*   **Просмотр списка активных приглашений** на встречи с возможностью дать ответ о возможности посещения.
*   **Просмотр собственного расписания встреч** в разрезе дня, недели и месяца.

**Важное условие:** временные слоты для встреч разбиты строго по часам. Например, можно создать встречу на 9:00–10:00, но создание встречи на 9:10, 9:05 и т.д. — невозможно.

## 3. Серверная часть
Сервер представляет собой **микросервис на Spring Boot**, работающий с СУБД **PostgreSQL** или **H2**.

Серверное приложение должно:
*   Предоставлять API, необходимый для полноценной работы мобильного приложения.
*   Осуществлять все основные операции с данными в базе через **Spring Data JPA**.
*   Использовать **Liquibase** для создания схемы базы данных и ее предзаполнения.

## Декомпозиция задачи (ДЗ_2)
УСЛОВНЫЕ ОБОЗНАЧЕНИЯ: US - User Stories, UC - Use Case

***US-1.*** Регистрация и авторизация
Как сотрудник компании,
я хочу зарегистрироваться и авторизоваться в системе,
чтобы иметь доступ к планированию и просмотру встреч.

*UC-1* - Регистрация пользователя

Цель:
Создание нового аккаунта сотрудника для доступа к системе планирования встреч.

Участники:
- Неавторизованный пользователь
- Сервер системы
- Клиент

Основной поток:
1) Пользователь отправляет данные регистрации (email, пароль, имя).
2) Сервер проверяет входные данные.
3) Сервер сохраняет нового пользователя в базе данных.
4) Сервер возвращает успешный ответ о регистрации.
5) Пользователь получает доступ к API системы и Клиенту.

Альтернативный поток:
- Email уже существует → сервер возвращает ошибку -> клиент отображает ошибку.
- Данные не проходят валидацию → сервер возвращает ошибку -> клиент отображает ошибку.

*UC-1.2* - Авторизация пользователя

Цель:
Аутентификация пользователя и предоставление доступа к защищённым ресурсам системы.

Участники:
- Пользователь
- Сервер системы
- Клиент

Предусловия:
- Пользователь зарегистрирован в системе.

Основной поток:
1) Пользователь отправляет email и пароль.
2) Сервер проверяет корректность учетных данных.
3) Сервер генерирует и возвращает JWT-токен .
4) Пользователь получает доступ к API системы и Клиенту.

Альтернативный поток:
- Неверный email или пароль → сервер возвращает ошибку авторизации -> ошибка отображается на клиенте.



***US-2.*** Управление профилем
Как авторизованный сотрудник,
я хочу просматривать и редактировать свой профиль,
чтобы другие сотрудники видели актуальную информацию обо мне.

*UC-2.1* - Просмотр и редактирование профиля пользователя

Цель:
Просмотр и изменение персональных данных пользователя.

Участники:
- Авторизованный пользователь
- Сервер системы
- Клиент

Предусловия:
- Пользователь авторизован в системе.

Основной поток:
1) Пользователь открывает раздел своего профиля.
2) Сервер возвращает данные профиля.
3) Клиент отображает актуальные данные профиля
4) Пользователь отправляет обновленные данные профиля.
5) Сервер проверяет данные и сохраняет изменения.

Альтернативный поток:
- Переданы некорректные данные → сервер возвращает ошибку -> ошибка отображается на клиенте.



***US-3***. Создание встречи
Как сотрудник,
я хочу создавать встречи в конкретный часовой слот и приглашать других сотрудников,
чтобы совместно планировать рабочее время.

*UC - 3.1* - Создание встречи

Цель:
Создание новой встречи с указанием временного слота и приглашением сотрудников.

Участники:
- Авторизованный пользователь (организатор)
- Сервер системы
- Клиент

Предусловия:
1) Пользователь авторизован.

Основной поток:
1) Пользователь выбирает дату и час встречи.
2) Пользователь выбирает доступных сотрудников из списка всех сотрудников.
3) Пользователь отправляет данные встречи.
4) Сервер проверяет отсутствие конфликтов с другими встречами.
5) Сервер сохраняет встречу в базе данных.
6) Сервер создает приглашения для выбранных участников.
7) Сервер отправляет приглашения всем участникам на клиенты.
8) Сервер возвращает ответ на клиент.
9) Клиент отображает успешное создание встречи.



***US-4.*** Просмотр приглашений
Как сотрудник,
я хочу видеть список активных приглашений,
чтобы своевременно отвечать на них.

*UC - 4.1* Просмотр приглашений на встречи

Цель:
Просмотр пользователем приглашений на встречи.

Участники:
- Авторизованный пользователь
- Сервер системы
- Клиент

Предусловия:
- Пользователь авторизован в системе.

Основной поток:
1) Пользователь открывает раздел нотификаций.
2) Сервер отправляет доступные приглашения.
3) Клиент отображает приглашения пользователя.



***US-5***. Ответ на приглашение
Как приглашённый сотрудник,
я хочу принять или отклонить приглашение на встречу,
чтобы организатор знал о моей доступности.

*UC - 5.1* - Ответ на приглашение на встречу

Цель:
Зафиксировать решение приглашённого сотрудника о посещении встречи.

Участники:
- Приглашённый пользователь
- Сервер системы
- Клиент

Предусловия:
- Пользователь авторизован.
- Пользователь имеет активное приглашение на встречу.

Основной поток:
1) Пользователь выбирает приглашение на встречу.
2) Пользователь отправляет ответ (принял / не принял).
3) Сервер сохраняет статус приглашения.
4) Сервер возвращает ответ на клиент.
5) Клиент отображает статус ответа (принял/не принял), в случае принятия создается новая встреча.



***US-6***. Просмотр расписания
Как сотрудник,
я хочу видеть своё расписание встреч по дням, неделям и месяцам,
чтобы эффективно планировать рабочее время.

*UC-6.1* - Просмотр расписания встреч

Цель:
Получение списка встреч пользователя за выбранный период времени.

Участники:
- Авторизованный пользователь
- Сервер системы
- Клиент

Предусловия:
- Пользователь авторизован в системе.

Основной поток:
1) Пользователь запрашивает расписание встреч.
2) Сервер возвращает список встреч.
3) Клиент отображает доступные встречи с возможностью фильтрации.

## Список Backend задач

### Регистрация и авторизация
- Реализовать регистрацию и авторизацию пользователя, валидацию входных данных, проверку уникальности учетных данных, сохранение пользователей в базе данных, 
механизм выдачи токена доступа, защиту API для авторизованных пользователей, обработку ошибок регистрации и авторизации, возврат результата операций клиенту.

### Управление профилем
- Реализовать получение данных профиля пользователя, обновление данных профиля пользователя, валидацию данных профиля, 
сохранение изменений профиля в базе данных, обработку ошибок при редактировании профиля, возврат актуальных данных профиля клиенту.

### Создание встречи
- Реализовать создание встречи, проверку конфликтов встреч, сохранение встречи в базе данных, создание приглашений для участников встречи,
обработку ошибок при создании встречи, возврат результата создания встречи клиенту.

### Просмотр приглашений
- Реализовать получение списка приглашений пользователя, возврат списка приглашений клиенту

### Ответ на приглашение
- Реализовать обработку ответа на приглашение, изменение статуса приглашения, проверку конфликтов при принятии приглашения, возврат результата обработки ответа клиенту.

### Просмотр расписания
- Реализовать получение списка расписания встреч пользователя, возврат расписания клиенту, обработку ошибок параметров запроса.